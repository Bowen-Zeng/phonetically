module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},1351,(a,b,c)=>{"use strict";b.exports=a.r(18622)},84853,(a,b,c)=>{"use strict";b.exports=a.r(1351).vendored["react-ssr"].ReactJsxRuntime},64257,(a,b,c)=>{"use strict";b.exports=a.r(1351).vendored["react-ssr"].React},93401,(a,b,c)=>{"use strict";b.exports=a.r(1351).vendored.contexts.AppRouterContext},27682,(a,b,c)=>{"use strict";b.exports=a.r(1351).vendored["react-ssr"].ReactServerDOMTurbopackClient},83614,(a,b,c)=>{"use strict";b.exports=a.r(1351).vendored["react-ssr"].ReactDOM},29889,a=>{"use strict";var b=a.i(84853),c=a.i(64257),d=a.i(38002),e=a.i(71316);let f=[{id:"TH",title:"TH",examples:"think, thumb, the, that, this",sound:"TH"},{id:"R",title:"R",examples:"red, run, car, rock, rain",sound:"R"},{id:"S",title:"S",examples:"sun, sit, bus, sat, see",sound:"S"},{id:"SH",title:"SH",examples:"ship, shoe, fish, wash, shop",sound:"SH"},{id:"L",title:"L",examples:"lip, look, ball, light, love",sound:"L"},{id:"Short-A",title:"Short A",examples:"cat, hat, bat, mat, sat",sound:"Short A"},{id:"Short-I",title:"Short I",examples:"sit, hit, pig, big, win",sound:"Short I"},{id:"Short-E",title:"Short E",examples:"red, bed, led, pet, net",sound:"Short E"},{id:"F",title:"F",examples:"fun, fish, off, four, fine",sound:"F"},{id:"V",title:"V",examples:"van, vine, love, have, very",sound:"V"}];function g(){let[a,g]=(0,c.useState)(""),[h,i]=(0,c.useState)("default"),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let a="default",b="";try{a=localStorage.getItem("phona-user-id")||"default",b=localStorage.getItem("phona-user-name")||""}catch{}i(a),g(b),Promise.all([fetch(`/api/dashboard/progress?userId=${encodeURIComponent(a)}`).then(a=>a.json()),fetch(`/api/dashboard/recent?userId=${encodeURIComponent(a)}`).then(a=>a.json()),fetch(`/api/dashboard/recommended?userId=${encodeURIComponent(a)}`).then(a=>a.json())]).then(([a,b,c])=>{k(a),m(b),o(c)}).catch(console.error).finally(()=>q(!1))},[]);let r=j&&j.attemptCount>0,s=a.trim()?`Hello, ${a.trim()}! Let's work on some phonetics.`:"Hello! Let's work on some phonetics.";return(0,b.jsxs)("div",{className:"app-container",children:[(0,b.jsxs)("div",{className:"phona-header",children:[(0,b.jsx)(d.default,{href:"/",className:"phona-logo-link","aria-label":"Back to Home",children:(0,b.jsx)(e.default,{src:"/phoneticallylogo.png",alt:"Phonetically",width:96,height:96,className:"phona-header-logo",priority:!0})}),(0,b.jsx)("div",{})]}),(0,b.jsx)("div",{className:"app-content-scroll",children:(0,b.jsxs)("div",{className:"content-wrapper max-w-2xl mx-auto w-full p-8",children:[(0,b.jsx)("h1",{className:"dashboard-title",children:s}),(0,b.jsx)("p",{className:"dashboard-subtitle",children:"Pick a sound to practice and build your pronunciation skills."}),(0,b.jsx)("p",{className:"dashboard-tip",children:"Tip: Start with the sound you find hardest."}),(0,b.jsxs)(d.default,{href:"/practice",className:"dashboard-daily-progress glass-panel",children:[(0,b.jsx)("span",{className:"dashboard-daily-label",children:"Daily progress"}),(0,b.jsxs)("span",{className:"dashboard-daily-value",children:[p?"—":j?.dailyAttemptCount??0,"/",12]})]}),p?(0,b.jsx)("p",{className:"text-white/60",children:"Loading..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"dashboard-recommended glass-panel",children:[(0,b.jsx)("h2",{className:"dashboard-section-title",children:"Recommended for you"}),n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"dashboard-recommended-text",children:[n.reason,null!=n.avgAccuracy&&(0,b.jsxs)(b.Fragment,{children:[" (avg ",n.avgAccuracy,"%)"]})]}),(0,b.jsxs)(d.default,{href:`/practice?sound=${encodeURIComponent(n.sound)}`,className:"dashboard-practice-btn dashboard-practice-btn-primary","aria-label":`Practice ${n.sound}`,children:["Practice ",n.sound]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"dashboard-recommended-text",children:"Get started with Short A — a common sound to practice."}),(0,b.jsx)(d.default,{href:"/practice?sound=Short%20A",className:"dashboard-practice-btn dashboard-practice-btn-primary","aria-label":"Practice Short A",children:"Practice Short A"})]})]}),(0,b.jsx)("h2",{className:"dashboard-section-title",children:"Progress Overview"}),r&&j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"dashboard-stats",children:[(0,b.jsxs)("div",{className:"dashboard-stat-card glass-panel",children:[(0,b.jsxs)("div",{className:"dashboard-stat-value",children:[j.avgAccuracy,"%"]}),(0,b.jsx)("div",{className:"dashboard-stat-label",children:"Avg Accuracy"})]}),(0,b.jsxs)("div",{className:"dashboard-stat-card glass-panel",children:[(0,b.jsx)("div",{className:"dashboard-stat-value",children:j.attemptCount}),(0,b.jsx)("div",{className:"dashboard-stat-label",children:"Attempts"})]}),(0,b.jsxs)("div",{className:"dashboard-stat-card glass-panel",children:[(0,b.jsx)("div",{className:"dashboard-stat-value",children:j.bestSound||"—"}),(0,b.jsx)("div",{className:"dashboard-stat-label",children:"Best Sound"})]}),(0,b.jsxs)("div",{className:"dashboard-stat-card glass-panel",children:[(0,b.jsx)("div",{className:"dashboard-stat-value",children:j.worstSound||"—"}),(0,b.jsx)("div",{className:"dashboard-stat-label",children:"Needs Work"})]})]}),j.bySound.length>0&&(0,b.jsxs)("div",{className:"dashboard-by-sound",children:[(0,b.jsx)("h3",{className:"dashboard-by-sound-title",children:"By sound"}),j.bySound.map(a=>(0,b.jsxs)("div",{className:"dashboard-sound-row",children:[(0,b.jsxs)("div",{className:"dashboard-sound-info",children:[(0,b.jsx)("span",{className:"dashboard-sound-name",children:a.sound}),(0,b.jsxs)("span",{className:"dashboard-sound-meta",children:[a.attemptCount," attempts, ",a.avgAccuracy,"%"]})]}),(0,b.jsx)("div",{className:"dashboard-progress-bar",children:(0,b.jsx)("div",{className:"dashboard-progress-fill",style:{width:`${Math.min(100,a.avgAccuracy)}%`}})})]},a.sound))]})]}):(0,b.jsx)("p",{className:"dashboard-empty",children:"No progress yet — complete a practice session to see stats."}),(0,b.jsx)("h2",{className:"dashboard-section-title",children:"Recently Practiced"}),l.length>0?(0,b.jsx)("div",{className:"dashboard-recent glass-panel",children:(0,b.jsx)("div",{className:"dashboard-recent-list",children:l.map((a,c)=>(0,b.jsxs)("div",{className:"dashboard-recent-item",children:[(0,b.jsx)("span",{className:"text-white/80",children:a.word}),(0,b.jsxs)("span",{className:a.accuracy>=90?"color-green":"color-amber",children:[a.accuracy,"%"]}),a.createdAt&&(0,b.jsx)("span",{className:"dashboard-recent-date",children:new Date(a.createdAt).toLocaleDateString()})]},c))})}):(0,b.jsx)("p",{className:"dashboard-empty",children:"No recent attempts yet."}),(0,b.jsx)("h2",{className:"dashboard-section-title",children:"Phonetic files"}),(0,b.jsx)("p",{className:"dashboard-section-desc",children:"Choose a sound to practice from the list below."}),(0,b.jsx)("div",{className:"dashboard-cards",children:f.map(a=>(0,b.jsx)("div",{className:"dashboard-card glass-panel",children:(0,b.jsxs)("div",{className:"dashboard-card-content",children:[(0,b.jsxs)("div",{className:"dashboard-card-text",children:[(0,b.jsx)("div",{className:"dashboard-card-title",children:a.title}),(0,b.jsx)("div",{className:"dashboard-card-examples",children:a.examples})]}),(0,b.jsxs)(d.default,{href:`/practice?sound=${encodeURIComponent(a.sound)}`,className:"dashboard-practice-btn","aria-label":`Practice ${a.sound}`,children:["Practice ",a.sound]})]})},a.id))})]})]})})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b0c36eb5._.js.map